Drupal.behaviors.textarea=function(context){$('textarea.resizable:not(.textarea-processed)',context).each(function(){if($(this).is('textarea.teaser:not(.teaser-processed)'))return false;var textarea=$(this).addClass('textarea-processed'),staticOffset=null;$(this).wrap('<div class="resizable-textarea"><span></span></div>').parent().append($('<div class="grippie"></div>').mousedown(startDrag));var grippie=$('div.grippie',$(this).parent())[0];grippie.style.marginRight=(grippie.offsetWidth-$(this)[0].offsetWidth)+'px'
function startDrag(e){staticOffset=textarea.height()-e.pageY;textarea.css('opacity',0.25);$(document).mousemove(performDrag).mouseup(endDrag);return false}
function performDrag(e){textarea.height(Math.max(32,staticOffset+e.pageY)+'px');return false}
function endDrag(e){$(document).unbind("mousemove",performDrag).unbind("mouseup",endDrag);textarea.css('opacity',1)}})};
Drupal.behaviors.tao=function(context){$('fieldset.collapsible:not(.tao-processed) > legend > .fieldset-title').each(function(){var fieldset=$(this).parents('fieldset').eq(0);fieldset.addClass('tao-processed');if($('input.error, textarea.error, select.error',fieldset).size()>0)$(fieldset).removeClass('collapsed');$(this).click(function(){if(fieldset.is('.collapsed')){$(fieldset).removeClass('collapsed').children('.fieldset-content').show()}else $(fieldset).addClass('collapsed').children('.fieldset-content').hide();return false})})};
Drupal.behaviors.rubik=function(context){$('div.form:has(div.column-main div.buttons):not(.rubik-processed)').each(function(){var form=$(this),offset=$('div.column-side div.buttons',form).height()+$('div.column-side div.buttons',form).offset().top;$(window).scroll(function(){if($(this).scrollTop()>offset){$('div.column-main div.buttons',form).show()}else $('div.column-main div.buttons',form).hide()});form.addClass('rubik-processed')});$('a.toggler:not(.rubik-processed)',context).each(function(){var id=$(this).attr('href').split('#')[1];if($('#'+id).size()>0){$(this).click(function(){toggleable=$('#'+id);toggleable.toggle();$(this).toggleClass('toggler-active');return false})}else{$(this).addClass('toggler-disabled');$(this).click(function(){return false})};$(this).addClass('rubik-processed')})};
